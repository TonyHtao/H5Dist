import{Q as hl,l as T,c as f,s as G,i as Te,m as j,af as yl,k as ke,d as ge,B as pe,D as Ge,o as g,a as V,r as L,b as R,t as q,K as ae,n as S,u as We,a5 as Ue,X as fe,E as Ot,v as Q,e as B,j as Ve,x as Qe,p as X,a8 as Sl,ag as Ol,q as ce,V as Cl,z as Ct,U as wl,H as Z,a9 as Il,f as ee,w as P,g as F,L as de,W as Ie,A as Ae,N as ft,ah as El,h as Fe,ai as Vl}from"./index-DtZcYc45.js";import{ah as Tl,aM as wt,H as kl,a3 as Dl,aN as It,aO as Et,av as H,aP as Rl,aQ as $l,$ as Ml,aa as Ll,J as te,aR as le,b as Vt,W as Nl,_ as De,l as ve,e as Tt,u as Pl,S as Bl,T as Wl,aS as Al,aT as Fl,V as zl,aU as Hl,X as vt,aV as Kl,B as Gl,aW as Ul,N as Ee,aX as bt,aY as Ql,o as gt,x as z,ak as ql,aZ as jl,U as ne,K as kt,j as Xl,I as Zl,R as Jl,a_ as Yl,d as K,r as mt,a$ as xl,y as _l,i as ht,as as en,al as tn,b0 as ln,b1 as nn,E as an,z as sn,A as on,w as rn,G as Dt}from"./el-scrollbar-5JrKAg7m.js";import{t as yt,C as un,b as dn}from"./el-checkbox-LGNvUH6I.js";import{c as J}from"./castArray-Dv9YKXuC.js";import{t as ze}from"./toNumber-CdGAcc2H.js";import{f as cn}from"./vnode-CMXEpaTc.js";function pn(e,l,s,c){e.length;for(var u=s+1;u--;)if(l(e[u],u,e))return u;return-1}function fn(e,l,s){return e===e&&(s!==void 0&&(e=e<=s?e:s),l!==void 0&&(e=e>=l?e:l)),e}function vn(e,l,s){return s===void 0&&(s=l,l=void 0),s!==void 0&&(s=ze(s),s=s===s?s:0),l!==void 0&&(l=ze(l),l=l===l?l:0),fn(ze(e),l,s)}var bn=1,gn=2;function mn(e,l,s,c){var u=s.length,b=u;if(e==null)return!b;for(e=Object(e);u--;){var n=s[u];if(n[2]?n[1]!==e[n[0]]:!(n[0]in e))return!1}for(;++u<b;){n=s[u];var r=n[0],v=e[r],m=n[1];if(n[2]){if(v===void 0&&!(r in e))return!1}else{var h=new Tl,C;if(!(C===void 0?wt(m,v,bn|gn,c,h):C))return!1}}return!0}function Rt(e){return e===e&&!kl(e)}function hn(e){for(var l=Dl(e),s=l.length;s--;){var c=l[s],u=e[c];l[s]=[c,u,Rt(u)]}return l}function $t(e,l){return function(s){return s==null?!1:s[e]===l&&(l!==void 0||e in Object(s))}}function yn(e){var l=hn(e);return l.length==1&&l[0][2]?$t(l[0][0],l[0][1]):function(s){return s===e||mn(s,e,l)}}var Sn=1,On=2;function Cn(e,l){return It(e)&&Rt(l)?$t(Et(e),l):function(s){var c=H(s,e);return c===void 0&&c===l?Rl(s,e):wt(l,c,Sn|On)}}function wn(e){return function(l){return l==null?void 0:l[e]}}function In(e){return function(l){return $l(l,e)}}function En(e){return It(e)?wn(Et(e)):In(e)}function Vn(e){return typeof e=="function"?e:e==null?Ml:typeof e=="object"?Ll(e)?Cn(e[0],e[1]):yn(e):En(e)}function Tn(e,l,s){var c=e==null?0:e.length;if(!c)return-1;var u=c-1;return pn(e,Vn(l),u)}const Mt=11,kn=2;function Dn(){const e=hl(),l=T(0),s=f(()=>({minWidth:`${Math.max(l.value,Mt)}px`}));return te(e,()=>{var u,b;l.value=(b=(u=e.value)==null?void 0:u.getBoundingClientRect().width)!=null?b:0}),{calculatorRef:e,calculatorWidth:l,inputStyle:s}}const He={label:"label",value:"value",disabled:"disabled",options:"options"};function Rn(e){const l=T({...He,...e.props});let s={...e.props};return G(()=>e.props,r=>{le(r,s)||(l.value={...He,...r},s={...r})},{deep:!0}),{aliasProps:l,getLabel:r=>H(r,l.value.label),getValue:r=>H(r,l.value.value),getDisabled:r=>H(r,l.value.disabled),getOptions:r=>H(r,l.value.options)}}const Lt=Symbol("ElSelectGroup"),Re=Symbol("ElSelect"),Ke="ElOption",$n=Vt({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),Mn=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");function Ln(e,l){const s=Te(Re);s||Nl(Ke,"usage: <el-select><el-option /></el-select/>");const c=Te(Lt,{disabled:!1}),u=f(()=>h(J(s.props.modelValue),e.value)),b=f(()=>{var p;if(s.props.multiple){const w=J((p=s.props.modelValue)!=null?p:[]);return!u.value&&w.length>=s.props.multipleLimit&&s.props.multipleLimit>0}else return!1}),n=f(()=>{var p;return(p=e.label)!=null?p:j(e.value)?"":e.value}),r=f(()=>e.value||e.label||""),v=f(()=>e.disabled||l.groupDisabled||b.value),m=ke(),h=(p=[],w)=>{if(j(e.value)){const y=s.props.valueKey;return p&&p.some(d=>yl(H(d,y))===H(w,y))}else return p&&p.includes(w)},C=()=>{v.value||(s.states.hoveringIndex=s.optionsArray.indexOf(m.proxy))},E=p=>{const w=new RegExp(Mn(p),"i");l.visible=w.test(String(n.value))||e.created};return G(()=>n.value,()=>{!e.created&&!s.props.remote&&s.setSelected()}),G(()=>e.value,(p,w)=>{const{remote:y,valueKey:d}=s.props;if((y?p!==w:!le(p,w))&&(s.onOptionDestroy(w,m.proxy),s.onOptionCreate(m.proxy)),!e.created&&!y){if(d&&j(p)&&j(w)&&p[d]===w[d])return;s.setSelected()}}),G(()=>c.disabled,()=>{l.groupDisabled=c.disabled},{immediate:!0}),{select:s,currentLabel:n,currentValue:r,itemSelected:u,isDisabled:v,hoverItem:C,updateOption:E}}const Nn=ge({name:Ke,componentName:Ke,props:$n,setup(e){const l=ve("select"),s=Tt(),c=f(()=>[l.be("dropdown","item"),l.is("disabled",We(r)),l.is("selected",We(n)),l.is("hovering",We(E))]),u=fe({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:b,itemSelected:n,isDisabled:r,select:v,hoverItem:m,updateOption:h}=Ln(e,u),{visible:C,hover:E}=Ue(u),p=ke().proxy;v.onOptionCreate(p),Ot(()=>{const y=p.value;Q(()=>{const{selected:d}=v.states,$=d.some(o=>o.value===p.value);v.states.cachedOptions.get(y)===p&&!$&&v.states.cachedOptions.delete(y)}),v.onOptionDestroy(y,p)});function w(){r.value||v.handleOptionSelect(p)}return{ns:l,id:s,containerKls:c,currentLabel:b,itemSelected:n,isDisabled:r,select:v,visible:C,hover:E,states:u,hoverItem:m,updateOption:h,selectOptionClick:w}}}),Pn=["id","aria-disabled","aria-selected"];function Bn(e,l,s,c,u,b){return pe((g(),V("li",{id:e.id,class:S(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:l[0]||(l[0]=(...n)=>e.hoverItem&&e.hoverItem(...n)),onClick:l[1]||(l[1]=ae((...n)=>e.selectOptionClick&&e.selectOptionClick(...n),["stop"])),onMousedown:l[2]||(l[2]=ae(()=>{},["prevent"]))},[L(e.$slots,"default",{},()=>[R("span",null,q(e.currentLabel),1)])],42,Pn)),[[Ge,e.visible]])}var qe=De(Nn,[["render",Bn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Wn=ge({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Te(Re),l=ve("select"),s=f(()=>e.props.popperClass),c=f(()=>e.props.multiple),u=f(()=>e.props.fitInputWidth),b=T("");function n(){var r;const v=(r=e.selectRef)==null?void 0:r.offsetWidth;v?b.value=`${v-kn}px`:b.value=""}return Qe(()=>{n(),te(e.selectRef,n)}),{ns:l,minWidth:b,popperClass:s,isMultiple:c,isFitInputWidth:u}}});function An(e,l,s,c,u,b){return g(),V("div",{class:S([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Ve({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(g(),V("div",{key:0,class:S(e.ns.be("dropdown","header"))},[L(e.$slots,"header")],2)):B("v-if",!0),L(e.$slots,"default"),e.$slots.footer?(g(),V("div",{key:1,class:S(e.ns.be("dropdown","footer"))},[L(e.$slots,"footer")],2)):B("v-if",!0)],6)}var Fn=De(Wn,[["render",An],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const zn=(e,l)=>{const{t:s}=Pl(),c=Tt(),u=ve("select"),b=ve("input"),n=fe({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),r=T(),v=T(),m=T(),h=T(),C=T(),E=T(),p=T(),w=T(),y=T(),d=T(),$=T(),o=T(!1),M=T(),k=T(!1),{form:se,formItem:A}=Bl(),{inputId:U}=Wl(e,{formItemContext:A}),{valueOnClear:Xe,isEmptyValue:Y}=Al(e),{isComposing:$e,handleCompositionStart:Nt,handleCompositionUpdate:Pt,handleCompositionEnd:Bt}=Fl({afterComposition:t=>nt(t)}),oe=zl(),{wrapperRef:Ze,isFocused:Me,handleBlur:Wt}=Hl(C,{disabled:oe,afterFocus(){e.automaticDropdown&&!o.value&&(o.value=!0,n.menuVisibleOnFocus=!0)},beforeBlur(t){var a,i;return((a=m.value)==null?void 0:a.isFocusInsideContent(t))||((i=h.value)==null?void 0:i.isFocusInsideContent(t))},afterBlur(){var t;o.value=!1,n.menuVisibleOnFocus=!1,e.validateEvent&&((t=A==null?void 0:A.validate)==null||t.call(A,"blur").catch(a=>vt()))}}),Le=f(()=>X(e.modelValue)?e.modelValue.length>0:!Y(e.modelValue)),At=f(()=>{var t;return(t=se==null?void 0:se.statusIcon)!=null?t:!1}),Ft=f(()=>e.clearable&&!oe.value&&Le.value&&(Me.value||n.inputHovering)),Je=f(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),zt=f(()=>u.is("reverse",!!(Je.value&&o.value))),Ne=f(()=>(A==null?void 0:A.validateState)||""),Ht=f(()=>Ne.value&&Kl[Ne.value]),Kt=f(()=>e.remote?e.debounce:0),Gt=f(()=>e.remote&&!n.inputValue&&n.options.size===0),Ut=f(()=>e.loading?e.loadingText||s("el.select.loading"):e.filterable&&n.inputValue&&n.options.size>0&&ie.value===0?e.noMatchText||s("el.select.noMatch"):n.options.size===0?e.noDataText||s("el.select.noData"):null),ie=f(()=>D.value.filter(t=>t.visible).length),D=f(()=>{const t=Array.from(n.options.values()),a=[];return n.optionValues.forEach(i=>{const O=t.findIndex(I=>I.value===i);O>-1&&a.push(t[O])}),a.length>=t.length?a:t}),Qt=f(()=>Array.from(n.cachedOptions.values())),qt=f(()=>{const t=D.value.filter(a=>!a.created).some(a=>a.currentLabel===n.inputValue);return e.filterable&&e.allowCreate&&n.inputValue!==""&&!t}),Ye=()=>{e.filterable&&ce(e.filterMethod)||e.filterable&&e.remote&&ce(e.remoteMethod)||D.value.forEach(t=>{var a;(a=t.updateOption)==null||a.call(t,n.inputValue)})},xe=Gl(),jt=f(()=>["small"].includes(xe.value)?"small":"default"),_e=f({get(){return o.value&&(e.loading||!Gt.value)&&(!k.value||!Ul(n.previousQuery))},set(t){o.value=t}}),Xt=f(()=>{if(e.multiple&&!Ee(e.modelValue))return J(e.modelValue).length===0&&!n.inputValue;const t=X(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Ee(t)?!n.inputValue:!0}),Zt=f(()=>{var t;const a=(t=e.placeholder)!=null?t:s("el.select.placeholder");return e.multiple||!Le.value?a:n.selectedLabel}),Jt=f(()=>bt?null:"mouseenter");G(()=>e.modelValue,(t,a)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(n.inputValue="",me("")),he(),!le(t,a)&&e.validateEvent&&(A==null||A.validate("change").catch(i=>vt()))},{flush:"post",deep:!0}),G(()=>o.value,t=>{t?me(n.inputValue):(n.inputValue="",n.previousQuery=null,n.isBeforeHide=!0)}),G(()=>n.options.entries(),()=>{Xl&&(he(),e.defaultFirstOption&&(e.filterable||e.remote)&&ie.value&&et())},{flush:"post"}),G([()=>n.hoveringIndex,D],([t])=>{Zl(t)&&t>-1?M.value=D.value[t]||{}:M.value={},D.value.forEach(a=>{a.hover=M.value===a})}),Sl(()=>{n.isBeforeHide||Ye()});const me=t=>{n.previousQuery===t||$e.value||(n.previousQuery=t,e.filterable&&ce(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&ce(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&ie.value?Q(et):Q(Yt))},et=()=>{const t=D.value.filter(I=>I.visible&&!I.disabled&&!I.states.groupDisabled),a=t.find(I=>I.created),i=t[0],O=D.value.map(I=>I.value);n.hoveringIndex=rt(O,a||i)},he=()=>{if(e.multiple)n.selectedLabel="";else{const a=X(e.modelValue)?e.modelValue[0]:e.modelValue,i=Pe(a);n.selectedLabel=i.currentLabel,n.selected=[i];return}const t=[];Ee(e.modelValue)||J(e.modelValue).forEach(a=>{t.push(Pe(a))}),n.selected=t},Pe=t=>{let a;const i=Ol(t);for(let N=n.cachedOptions.size-1;N>=0;N--){const W=Qt.value[N];if(i?H(W.value,e.valueKey)===H(t,e.valueKey):W.value===t){a={index:D.value.filter(_=>!_.created).indexOf(W),value:t,currentLabel:W.currentLabel,get isDisabled(){return W.isDisabled}};break}}if(a)return a;const O=i?t.label:t??"";return{index:-1,value:t,currentLabel:O}},Yt=()=>{const t=n.selected.length;if(t>0){const a=n.selected[t-1];n.hoveringIndex=D.value.findIndex(i=>Se(a)===Se(i))}else n.hoveringIndex=-1},xt=()=>{n.selectionWidth=Number.parseFloat(window.getComputedStyle(v.value).width)},_t=()=>{n.collapseItemWidth=d.value.getBoundingClientRect().width},Be=()=>{var t,a;(a=(t=m.value)==null?void 0:t.updatePopper)==null||a.call(t)},tt=()=>{var t,a;(a=(t=h.value)==null?void 0:t.updatePopper)==null||a.call(t)},lt=()=>{n.inputValue.length>0&&!o.value&&(o.value=!0),me(n.inputValue)},nt=t=>{if(n.inputValue=t.target.value,e.remote)k.value=!0,at();else return lt()},at=Ql(()=>{lt(),k.value=!1},Kt),re=t=>{le(e.modelValue,t)||l(kt,t)},el=t=>Tn(t,a=>{const i=n.cachedOptions.get(a);return!(i!=null&&i.disabled)&&!(i!=null&&i.states.groupDisabled)}),st=t=>{const a=gt(t);if(e.multiple&&a!==z.delete&&t.target.value.length<=0){const i=J(e.modelValue).slice(),O=el(i);if(O<0)return;const I=i[O];i.splice(O,1),l(ne,i),re(i),l("remove-tag",I)}},tl=(t,a)=>{const i=n.selected.indexOf(a);if(i>-1&&!oe.value){const O=J(e.modelValue).slice();O.splice(i,1),l(ne,O),re(O),l("remove-tag",a.value)}t.stopPropagation(),ye()},ot=t=>{t.stopPropagation();const a=e.multiple?[]:Xe.value;if(e.multiple)for(const i of n.selected)i.isDisabled&&a.push(i.value);l(ne,a),re(a),n.hoveringIndex=-1,o.value=!1,l("clear"),ye()},it=t=>{var a;if(e.multiple){const i=J((a=e.modelValue)!=null?a:[]).slice(),O=rt(i,t);O>-1?i.splice(O,1):(e.multipleLimit<=0||i.length<e.multipleLimit)&&i.push(t.value),l(ne,i),re(i),t.created&&me(""),e.filterable&&!e.reserveKeyword&&(n.inputValue="")}else!le(e.modelValue,t.value)&&l(ne,t.value),re(t.value),o.value=!1;ye(),!o.value&&Q(()=>{ue(t)})},rt=(t,a)=>Ee(a)?-1:j(a.value)?t.findIndex(i=>le(H(i,e.valueKey),Se(a))):t.indexOf(a.value),ue=t=>{var a,i,O,I,N;const W=X(t)?t[t.length-1]:t;let x=null;if(!ql(W==null?void 0:W.value)){const _=D.value.filter(ml=>ml.value===W.value);_.length>0&&(x=_[0].$el)}if(m.value&&x){const _=(I=(O=(i=(a=m.value)==null?void 0:a.popperRef)==null?void 0:i.contentRef)==null?void 0:O.querySelector)==null?void 0:I.call(O,`.${u.be("dropdown","wrap")}`);_&&jl(_,x)}(N=$.value)==null||N.handleScroll()},ll=t=>{n.options.set(t.value,t),n.cachedOptions.set(t.value,t)},nl=(t,a)=>{n.options.get(t)===a&&n.options.delete(t)},al=f(()=>{var t,a;return(a=(t=m.value)==null?void 0:t.popperRef)==null?void 0:a.contentRef}),sl=()=>{n.isBeforeHide=!1,Q(()=>{var t;(t=$.value)==null||t.update(),ue(n.selected)})},ye=()=>{var t;(t=C.value)==null||t.focus()},ol=()=>{var t;if(o.value){o.value=!1,Q(()=>{var a;return(a=C.value)==null?void 0:a.blur()});return}(t=C.value)==null||t.blur()},il=t=>{ot(t)},rl=t=>{if(o.value=!1,Me.value){const a=new FocusEvent("blur",t);Q(()=>Wt(a))}},ut=()=>{n.inputValue.length>0?n.inputValue="":o.value=!1},dt=t=>{var a;oe.value||e.filterable&&o.value&&t&&!((a=p.value)!=null&&a.contains(t.target))||(bt&&(n.inputHovering=!0),n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:o.value=!o.value)},ct=()=>{if(!o.value)dt();else{const t=D.value[n.hoveringIndex];t&&!t.isDisabled&&it(t)}},Se=t=>j(t.value)?H(t.value,e.valueKey):t.value,ul=f(()=>D.value.filter(t=>t.visible).every(t=>t.isDisabled)),dl=f(()=>e.multiple?e.collapseTags?n.selected.slice(0,e.maxCollapseTags):n.selected:[]),cl=f(()=>e.multiple?e.collapseTags?n.selected.slice(e.maxCollapseTags):[]:[]),Oe=t=>{if(!o.value){o.value=!0;return}if(!(n.options.size===0||ie.value===0||$e.value)&&!ul.value){t==="next"?(n.hoveringIndex++,n.hoveringIndex===n.options.size&&(n.hoveringIndex=0)):t==="prev"&&(n.hoveringIndex--,n.hoveringIndex<0&&(n.hoveringIndex=n.options.size-1));const a=D.value[n.hoveringIndex];(a.isDisabled||!a.visible)&&Oe(t),Q(()=>ue(M.value))}},pt=(t,a,i,O)=>{for(let I=a;I>=0&&I<O;I+=i){const N=t[I];if(!(N!=null&&N.isDisabled)&&(N!=null&&N.visible))return I}return null},Ce=(t,a)=>{var i;const O=n.options.size;if(O===0)return;const I=vn(t,0,O-1),N=D.value,W=a==="up"?-1:1,x=(i=pt(N,I,W,O))!=null?i:pt(N,I-W,-W,O);x!=null&&(n.hoveringIndex=x,Q(()=>ue(M.value)))},pl=t=>{const a=gt(t);let i=!0;switch(a){case z.up:Oe("prev");break;case z.down:Oe("next");break;case z.enter:case z.numpadEnter:$e.value||ct();break;case z.esc:ut();break;case z.backspace:i=!1,st(t);return;case z.home:if(!o.value)return;Ce(0,"down");break;case z.end:if(!o.value)return;Ce(n.options.size-1,"up");break;case z.pageUp:if(!o.value)return;Ce(n.hoveringIndex-10,"up");break;case z.pageDown:if(!o.value)return;Ce(n.hoveringIndex+10,"down");break;default:i=!1;break}i&&(t.preventDefault(),t.stopPropagation())},fl=()=>{if(!v.value)return 0;const t=window.getComputedStyle(v.value);return Number.parseFloat(t.gap||"6px")},vl=f(()=>{const t=fl(),a=e.filterable?t+Mt:0;return{maxWidth:`${d.value&&e.maxCollapseTags===1?n.selectionWidth-n.collapseItemWidth-t-a:n.selectionWidth-a}px`}}),bl=f(()=>({maxWidth:`${n.selectionWidth}px`})),gl=t=>{l("popup-scroll",t)};te(v,xt),te(Ze,Be),te(y,tt),te(d,_t);let we;return G(()=>_e.value,t=>{t?we=te(w,Be).stop:(we==null||we(),we=void 0),l("visible-change",t)}),Qe(()=>{he()}),{inputId:U,contentId:c,nsSelect:u,nsInput:b,states:n,isFocused:Me,expanded:o,optionsArray:D,hoverOption:M,selectSize:xe,filteredOptionsCount:ie,updateTooltip:Be,updateTagTooltip:tt,debouncedOnInputChange:at,onInput:nt,deletePrevTag:st,deleteTag:tl,deleteSelected:ot,handleOptionSelect:it,scrollToOption:ue,hasModelValue:Le,shouldShowPlaceholder:Xt,currentPlaceholder:Zt,mouseEnterEventName:Jt,needStatusIcon:At,showClearBtn:Ft,iconComponent:Je,iconReverse:zt,validateState:Ne,validateIcon:Ht,showNewOption:qt,updateOptions:Ye,collapseTagSize:jt,setSelected:he,selectDisabled:oe,emptyText:Ut,handleCompositionStart:Nt,handleCompositionUpdate:Pt,handleCompositionEnd:Bt,handleKeydown:pl,onOptionCreate:ll,onOptionDestroy:nl,handleMenuEnter:sl,focus:ye,blur:ol,handleClearClick:il,handleClickOutside:rl,handleEsc:ut,toggleMenu:dt,selectOption:ct,getValueKey:Se,navigateOptions:Oe,dropdownMenuVisible:_e,showTagList:dl,collapseTagList:cl,popupScroll:gl,getOption:Pe,tagStyle:vl,collapseTagStyle:bl,popperRef:al,inputRef:C,tooltipRef:m,tagTooltipRef:h,prefixRef:E,suffixRef:p,selectRef:r,wrapperRef:Ze,selectionRef:v,scrollbarRef:$,menuRef:w,tagMenuRef:y,collapseItemRef:d}};var Hn=ge({name:"ElOptions",setup(e,{slots:l}){const s=Te(Re);let c=[];return()=>{var u,b;const n=(u=l.default)==null?void 0:u.call(l),r=[];function v(m){X(m)&&m.forEach(h=>{var C,E,p,w;const y=(C=(h==null?void 0:h.type)||{})==null?void 0:C.name;y==="ElOptionGroup"?v(!Cl(h.children)&&!X(h.children)&&ce((E=h.children)==null?void 0:E.default)?(p=h.children)==null?void 0:p.default():h.children):y==="ElOption"?r.push((w=h.props)==null?void 0:w.value):X(h.children)&&v(h.children)})}return n.length&&v((b=n[0])==null?void 0:b.children),le(r,c)||(c=r,s&&(s.states.optionValues=r)),n}}});const Kn=Vt({name:String,id:String,modelValue:{type:K([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:tn,effect:{type:K(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:K([String,Object])},popperOptions:{type:K(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:K(Function)},filterMethod:{type:K(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:mt.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ht,default:en},fitInputWidth:Boolean,suffixIcon:{type:ht,default:_l},tagType:{...yt.type,default:"info"},tagEffect:{...yt.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:K(String),values:xl,default:"bottom-start"},fallbackPlacements:{type:K(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:mt.appendTo,options:{type:K(Array)},props:{type:K(Object),default:()=>He},...Yl,...Jl(["ariaLabel"])});ln.scroll;const Gn=ge({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const l=ve("select"),s=T(),c=ke(),u=T([]);Ct(Lt,fe({...Ue(e)}));const b=f(()=>u.value.some(m=>m.visible===!0)),n=m=>{var h;return m.type.name==="ElOption"&&!!((h=m.component)!=null&&h.proxy)},r=m=>{const h=J(m),C=[];return h.forEach(E=>{var p;wl(E)&&(n(E)?C.push(E.component.proxy):X(E.children)&&E.children.length?C.push(...r(E.children)):(p=E.component)!=null&&p.subTree&&C.push(...r(E.component.subTree)))}),C},v=()=>{u.value=r(c.subTree)};return Qe(()=>{v()}),nn(s,v,{attributes:!0,subtree:!0,childList:!0}),{groupRef:s,visible:b,ns:l}}});function Un(e,l,s,c,u,b){return pe((g(),V("ul",{ref:"groupRef",class:S(e.ns.be("group","wrap"))},[R("li",{class:S(e.ns.be("group","title"))},q(e.label),3),R("li",null,[R("ul",{class:S(e.ns.b("group"))},[L(e.$slots,"default")],2)])],2)),[[Ge,e.visible]])}var je=De(Gn,[["render",Un],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const St="ElSelect",be=new WeakMap,Qn=e=>(...l)=>{var s,c;const u=l[0];if(!u||u.includes('Slot "default" invoked outside of the render function')&&((s=l[2])!=null&&s.includes("ElTreeSelect")))return;const b=(c=be.get(e))==null?void 0:c.originalWarnHandler;if(b){b(...l);return}console.warn(...l)},qn=e=>{let l=be.get(e);return l||(l={originalWarnHandler:e.config.warnHandler,handler:Qn(e),count:0},be.set(e,l)),l},jn=ge({name:St,componentName:St,components:{ElSelectMenu:Fn,ElOption:qe,ElOptions:Hn,ElOptionGroup:je,ElTag:dn,ElScrollbar:on,ElTooltip:sn,ElIcon:an},directives:{ClickOutside:un},props:Kn,emits:[ne,kt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:l,slots:s}){const c=ke(),u=qn(c.appContext);u.count+=1,c.appContext.config.warnHandler=u.handler;const b=f(()=>{const{modelValue:o,multiple:M}=e,k=M?[]:void 0;return X(o)?M?o:k:M?k:o}),n=fe({...Ue(e),modelValue:b}),r=zn(n,l),{calculatorRef:v,inputStyle:m}=Dn(),{getLabel:h,getValue:C,getOptions:E,getDisabled:p}=Rn(e),w=o=>({label:h(o),value:C(o),disabled:p(o)}),y=o=>o.reduce((M,k)=>(M.push(k),k.children&&k.children.length>0&&M.push(...y(k.children)),M),[]),d=o=>{cn(o||[]).forEach(k=>{var se;if(j(k)&&(k.type.name==="ElOption"||k.type.name==="ElTree")){const A=k.type.name;if(A==="ElTree"){const U=((se=k.props)==null?void 0:se.data)||[];y(U).forEach(Y=>{Y.currentLabel=Y.label||(j(Y.value)?"":Y.value),r.onOptionCreate(Y)})}else if(A==="ElOption"){const U={...k.props};U.currentLabel=U.label||(j(U.value)?"":U.value),r.onOptionCreate(U)}}})};G(()=>{var o;return[(o=s.default)==null?void 0:o.call(s),b.value]},()=>{var o;e.persistent||r.expanded.value||(r.states.options.clear(),d((o=s.default)==null?void 0:o.call(s)))},{immediate:!0}),Ct(Re,fe({props:n,states:r.states,selectRef:r.selectRef,optionsArray:r.optionsArray,setSelected:r.setSelected,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy}));const $=f(()=>e.multiple?r.states.selected.map(o=>o.currentLabel):r.states.selectedLabel);return Ot(()=>{const o=be.get(c.appContext);o&&(o.count-=1,o.count<=0&&(c.appContext.config.warnHandler=o.originalWarnHandler,be.delete(c.appContext)))}),{...r,modelValue:b,selectedLabel:$,calculatorRef:v,inputStyle:m,getLabel:h,getValue:C,getOptions:E,getDisabled:p,getOptionProps:w}}}),Xn=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Zn=["textContent"],Jn={key:1};function Yn(e,l,s,c,u,b){const n=Z("el-tag"),r=Z("el-tooltip"),v=Z("el-icon"),m=Z("el-option"),h=Z("el-option-group"),C=Z("el-options"),E=Z("el-scrollbar"),p=Z("el-select-menu"),w=Il("click-outside");return pe((g(),V("div",Ae({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[Vl(e.mouseEnterEventName)]:l[11]||(l[11]=y=>e.states.inputHovering=!0)},{onMouseleave:l[12]||(l[12]=y=>e.states.inputHovering=!1)}),[ee(r,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:l[10]||(l[10]=y=>e.states.isBeforeHide=!1)},{default:P(()=>{var y;return[R("div",{ref:"wrapperRef",class:S([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:l[7]||(l[7]=ae((...d)=>e.toggleMenu&&e.toggleMenu(...d),["prevent"]))},[e.$slots.prefix?(g(),V("div",{key:0,ref:"prefixRef",class:S(e.nsSelect.e("prefix"))},[L(e.$slots,"prefix")],2)):B("v-if",!0),R("div",{ref:"selectionRef",class:S([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?L(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(g(!0),V(de,null,Ie(e.showTagList,d=>(g(),V("div",{key:e.getValueKey(d),class:S(e.nsSelect.e("selected-item"))},[ee(n,{closable:!e.selectDisabled&&!d.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ve(e.tagStyle),onClose:$=>e.deleteTag($,d)},{default:P(()=>[R("span",{class:S(e.nsSelect.e("tags-text"))},[L(e.$slots,"label",{index:d.index,label:d.currentLabel,value:d.value},()=>[ft(q(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(g(),F(r,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:P(()=>[R("div",{ref:"collapseItemRef",class:S(e.nsSelect.e("selected-item"))},[ee(n,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ve(e.collapseTagStyle)},{default:P(()=>[R("span",{class:S(e.nsSelect.e("tags-text"))}," + "+q(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:P(()=>[R("div",{ref:"tagMenuRef",class:S(e.nsSelect.e("selection"))},[(g(!0),V(de,null,Ie(e.collapseTagList,d=>(g(),V("div",{key:e.getValueKey(d),class:S(e.nsSelect.e("selected-item"))},[ee(n,{class:"in-tooltip",closable:!e.selectDisabled&&!d.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:$=>e.deleteTag($,d)},{default:P(()=>[R("span",{class:S(e.nsSelect.e("tags-text"))},[L(e.$slots,"label",{index:d.index,label:d.currentLabel,value:d.value},()=>[ft(q(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):B("v-if",!0)]):B("v-if",!0),R("div",{class:S([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[pe(R("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":l[0]||(l[0]=d=>e.states.inputValue=d),type:"text",name:e.name,class:S([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Ve(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((y=e.hoverOption)==null?void 0:y.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:l[1]||(l[1]=(...d)=>e.handleKeydown&&e.handleKeydown(...d)),onCompositionstart:l[2]||(l[2]=(...d)=>e.handleCompositionStart&&e.handleCompositionStart(...d)),onCompositionupdate:l[3]||(l[3]=(...d)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...d)),onCompositionend:l[4]||(l[4]=(...d)=>e.handleCompositionEnd&&e.handleCompositionEnd(...d)),onInput:l[5]||(l[5]=(...d)=>e.onInput&&e.onInput(...d)),onClick:l[6]||(l[6]=ae((...d)=>e.toggleMenu&&e.toggleMenu(...d),["stop"]))},null,46,Xn),[[El,e.states.inputValue]]),e.filterable?(g(),V("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:S(e.nsSelect.e("input-calculator")),textContent:q(e.states.inputValue)},null,10,Zn)):B("v-if",!0)],2),e.shouldShowPlaceholder?(g(),V("div",{key:1,class:S([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?L(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[R("span",null,q(e.currentPlaceholder),1)]):(g(),V("span",Jn,q(e.currentPlaceholder),1))],2)):B("v-if",!0)],2),R("div",{ref:"suffixRef",class:S(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(g(),F(v,{key:0,class:S([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:P(()=>[(g(),F(Fe(e.iconComponent)))]),_:1},8,["class"])):B("v-if",!0),e.showClearBtn&&e.clearIcon?(g(),F(v,{key:1,class:S([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:P(()=>[(g(),F(Fe(e.clearIcon)))]),_:1},8,["class","onClick"])):B("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(g(),F(v,{key:2,class:S([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:P(()=>[(g(),F(Fe(e.validateIcon)))]),_:1},8,["class"])):B("v-if",!0)],2)],2)]}),content:P(()=>[ee(p,{ref:"menuRef"},{default:P(()=>[e.$slots.header?(g(),V("div",{key:0,class:S(e.nsSelect.be("dropdown","header")),onClick:l[8]||(l[8]=ae(()=>{},["stop"]))},[L(e.$slots,"header")],2)):B("v-if",!0),pe(ee(E,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:S([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:P(()=>[e.showNewOption?(g(),F(m,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):B("v-if",!0),ee(C,null,{default:P(()=>[L(e.$slots,"default",{},()=>[(g(!0),V(de,null,Ie(e.options,(y,d)=>{var $;return g(),V(de,{key:d},[($=e.getOptions(y))!=null&&$.length?(g(),F(h,{key:0,label:e.getLabel(y),disabled:e.getDisabled(y)},{default:P(()=>[(g(!0),V(de,null,Ie(e.getOptions(y),o=>(g(),F(m,Ae({key:e.getValue(o)},{ref_for:!0},e.getOptionProps(o)),null,16))),128))]),_:2},1032,["label","disabled"])):(g(),F(m,Ae({key:1,ref_for:!0},e.getOptionProps(y)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Ge,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(g(),V("div",{key:1,class:S(e.nsSelect.be("dropdown","loading"))},[L(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(g(),V("div",{key:2,class:S(e.nsSelect.be("dropdown","empty"))},[L(e.$slots,"empty",{},()=>[R("span",null,q(e.emptyText),1)])],2)):B("v-if",!0),e.$slots.footer?(g(),V("div",{key:3,class:S(e.nsSelect.be("dropdown","footer")),onClick:l[9]||(l[9]=ae(()=>{},["stop"]))},[L(e.$slots,"footer")],2)):B("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[w,e.handleClickOutside,e.popperRef]])}var xn=De(jn,[["render",Yn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const sa=rn(xn,{Option:qe,OptionGroup:je}),oa=Dt(qe),ia=Dt(je);export{sa as E,ia as a,oa as b,Vn as c};
