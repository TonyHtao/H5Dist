import{V as sa,l as I,i as Le,c as f,d as ue,a as z,o as g,b as J,B as be,ak as ga,u as a,K as le,n as S,a6 as ba,r as ee,N as Pe,t as oe,v as ie,j as ya,x as Ze,z as ka,X as _e,a5 as rt,s as te,L as re,W as ye,g as H,A as ut,h as Ca,f as Q,p as Oe,a3 as oa,e as U,w as M,k as dt,q as na,ab as ct,y as pt,al as vt,am as ft,D as ia,C as ht,$ as mt,ah as gt,a0 as bt}from"./index-ggbH2lsr.js";import{aE as yt,aj as kt,I as ra,a as He,b as ve,K as fe,U as he,al as Xe,aw as Ke,B as Na,V as Ea,k as Ct,_ as me,l as ne,R as Nt,d as se,e as wa,S as Sa,T as Et,aR as ce,X as qe,w as Ye,G as $a,at as xa,E as pe,P as Ta,M as wt,u as Va,A as Ge,aW as Ue,N as St,bc as $t,bd as ua,be as da,j as Pa,aZ as xt,o as je,x as q,bf as Ve,bg as La,a_ as Tt,r as Me,a$ as Vt,as as Pt,i as Lt,aS as It,aT as Bt,aU as Dt,aY as zt,J as Ft,y as Rt,z as ca,bh as Mt}from"./el-scrollbar-DjDiXnij.js";import{o as At,E as _t,t as pa,b as Ae,C as Ot}from"./el-checkbox-BBkTIl1Z.js";import{E as Ht}from"./el-input-BuoAsfNJ.js";var Kt=1,qt=4;function Ia(i){return yt(i,Kt|qt)}var Gt=1/0;function Ut(i){var s=i==null?0:i.length;return s?kt(i,Gt):[]}const Ba=ve({modelValue:{type:[String,Number,Boolean],default:void 0},size:Xe,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),jt=ve({...Ba,border:Boolean}),Da={[he]:i=>sa(i)||ra(i)||He(i),[fe]:i=>sa(i)||ra(i)||He(i)},za=Symbol("radioGroupKey"),Fa=(i,s)=>{const l=I(),n=Le(za,void 0),t=f(()=>!!n),p=f(()=>Ke(i.value)?i.label:i.value),v=f({get(){return t.value?n.modelValue:i.modelValue},set(V){t.value?n.changeEvent(V):s&&s(he,V),l.value.checked=i.modelValue===p.value}}),c=Na(f(()=>n==null?void 0:n.size)),m=Ea(f(()=>n==null?void 0:n.disabled)),u=I(!1),C=f(()=>m.value||t.value&&v.value!==p.value?-1:0);return Ct({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},f(()=>t.value&&Ke(i.value))),{radioRef:l,isGroup:t,radioGroup:n,focus:u,size:c,disabled:m,tabIndex:C,modelValue:v,actualValue:p}},Wt=["value","name","disabled","checked"],Zt=ue({name:"ElRadio",__name:"radio",props:jt,emits:Da,setup(i,{emit:s}){const l=i,n=s,t=ne("radio"),{radioRef:p,radioGroup:v,focus:c,size:m,disabled:u,modelValue:C,actualValue:V}=Fa(l,n);function h(){ie(()=>n(fe,C.value))}return(x,w)=>{var N;return g(),z("label",{class:S([a(t).b(),a(t).is("disabled",a(u)),a(t).is("focus",a(c)),a(t).is("bordered",x.border),a(t).is("checked",a(C)===a(V)),a(t).m(a(m))])},[J("span",{class:S([a(t).e("input"),a(t).is("disabled",a(u)),a(t).is("checked",a(C)===a(V))])},[be(J("input",{ref_key:"radioRef",ref:p,"onUpdate:modelValue":w[0]||(w[0]=b=>ba(C)?C.value=b:null),class:S(a(t).e("original")),value:a(V),name:x.name||((N=a(v))==null?void 0:N.name),disabled:a(u),checked:a(C)===a(V),type:"radio",onFocus:w[1]||(w[1]=b=>c.value=!0),onBlur:w[2]||(w[2]=b=>c.value=!1),onChange:h,onClick:w[3]||(w[3]=le(()=>{},["stop"]))},null,42,Wt),[[ga,a(C)]]),J("span",{class:S(a(t).e("inner"))},null,2)],2),J("span",{class:S(a(t).e("label")),onKeydown:w[4]||(w[4]=le(()=>{},["stop"]))},[ee(x.$slots,"default",{},()=>[Pe(oe(x.label),1)])],34)],2)}}});var Ra=me(Zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Xt=ve({...Ba}),Yt=["value","name","disabled"],Jt=ue({name:"ElRadioButton",__name:"radio-button",props:Xt,setup(i){const s=i,l=ne("radio"),{radioRef:n,focus:t,size:p,disabled:v,modelValue:c,radioGroup:m,actualValue:u}=Fa(s),C=f(()=>({backgroundColor:(m==null?void 0:m.fill)||"",borderColor:(m==null?void 0:m.fill)||"",boxShadow:m!=null&&m.fill?`-1px 0 0 0 ${m.fill}`:"",color:(m==null?void 0:m.textColor)||""}));return(V,h)=>{var x;return g(),z("label",{class:S([a(l).b("button"),a(l).is("active",a(c)===a(u)),a(l).is("disabled",a(v)),a(l).is("focus",a(t)),a(l).bm("button",a(p))])},[be(J("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":h[0]||(h[0]=w=>ba(c)?c.value=w:null),class:S(a(l).be("button","original-radio")),value:a(u),type:"radio",name:V.name||((x=a(m))==null?void 0:x.name),disabled:a(v),onFocus:h[1]||(h[1]=w=>t.value=!0),onBlur:h[2]||(h[2]=w=>t.value=!1),onClick:h[3]||(h[3]=le(()=>{},["stop"]))},null,42,Yt),[[ga,a(c)]]),J("span",{class:S(a(l).be("button","inner")),style:ya(a(c)===a(u)?C.value:{}),onKeydown:h[4]||(h[4]=le(()=>{},["stop"]))},[ee(V.$slots,"default",{},()=>[Pe(oe(V.label),1)])],38)],2)}}});var Je=me(Jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Qt=ve({id:{type:String,default:void 0},size:Xe,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:se(Array)},props:{type:se(Object),default:()=>Ma},type:{type:String,values:["radio","button"],default:"radio"},...Nt(["ariaLabel"])}),el=Da,Ma={label:"label",value:"value",disabled:"disabled"},al=["id","aria-label","aria-labelledby"],tl=ue({name:"ElRadioGroup",__name:"radio-group",props:Qt,emits:el,setup(i,{emit:s}){const l=i,n=s,t=ne("radio"),p=wa(),v=I(),{formItem:c}=Sa(),{inputId:m,isLabeledByFormItem:u}=Et(l,{formItemContext:c}),C=N=>{n(he,N),ie(()=>n(fe,N))};Ze(()=>{const N=v.value.querySelectorAll("[type=radio]"),b=N[0];!Array.from(N).some(P=>P.checked)&&b&&(b.tabIndex=0)});const V=f(()=>l.name||p.value),h=f(()=>({...Ma,...l.props})),x=N=>{const{label:b,value:P,disabled:G}=h.value,L={label:N[b],value:N[P],disabled:N[G]};return{...At(N,[b,P,G]),...L}},w=f(()=>l.type==="button"?Je:Ra);return ka(za,_e({...rt(l),changeEvent:C,name:V})),te(()=>l.modelValue,(N,b)=>{l.validateEvent&&!ce(N,b)&&(c==null||c.validate("change").catch(P=>qe()))}),(N,b)=>(g(),z("div",{id:a(m),ref_key:"radioGroupRef",ref:v,class:S(a(t).b("group")),role:"radiogroup","aria-label":a(u)?void 0:N.ariaLabel||"radio-group","aria-labelledby":a(u)?a(c).labelId:void 0},[ee(N.$slots,"default",{},()=>[(g(!0),z(re,null,ye(N.options,(P,G)=>(g(),H(Ca(w.value),ut({key:G},{ref_for:!0},x(P)),null,16))),128))])],10,al))}});var Aa=me(tl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ll=Ye(Ra,{RadioButton:Je,RadioGroup:Aa});$a(Aa);$a(Je);const Ie=Symbol();function sl(i){return!!(Oe(i)?i.every(({type:s})=>s===oa):(i==null?void 0:i.type)===oa)}var ol=ue({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(i){const s=ne("cascader-node"),{renderLabelFn:l}=Le(Ie),{node:n}=i,{data:t,label:p}=n,v=()=>{const c=l==null?void 0:l({node:n,data:t});return sl(c)?p:c??p};return()=>Q("span",{class:s.e("label")},[v()])}});const nl=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],il=ue({name:"ElCascaderNode",__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(i,{emit:s}){const l=i,n=s,t=Le(Ie),p=ne("cascader-node"),v=f(()=>t.isHoverMenu),c=f(()=>t.config.multiple),m=f(()=>t.config.checkStrictly),u=f(()=>t.config.showPrefix),C=f(()=>{var E;return(E=t.checkedNodes[0])==null?void 0:E.uid}),V=f(()=>l.node.isDisabled),h=f(()=>l.node.isLeaf),x=f(()=>m.value&&!h.value||!V.value),w=f(()=>b(t.expandingNode)),N=f(()=>m.value&&t.checkedNodes.some(b)),b=E=>{var F;const{level:Z,uid:D}=l.node;return((F=E==null?void 0:E.pathNodes[Z-1])==null?void 0:F.uid)===D},P=()=>{w.value||t.expandNode(l.node)},G=E=>{const{node:F}=l;E!==F.checked&&t.handleCheckChange(F,E)},L=()=>{t.lazyLoad(l.node,()=>{h.value||P()})},j=E=>{v.value&&(B(),!h.value&&n("expand",E))},B=()=>{const{node:E}=l;!x.value||E.loading||(E.loaded?P():L())},ae=()=>{h.value&&!V.value&&!m.value&&!c.value?W(!0):(t.config.checkOnClickNode&&(c.value||m.value)||h.value&&t.config.checkOnClickLeaf)&&!V.value?A(!l.node.checked):v.value||B()},A=E=>{m.value?(G(E),l.node.loaded&&P()):W(E)},W=E=>{l.node.loaded?(G(E),!m.value&&P()):L()};return(E,F)=>(g(),z("li",{id:`${i.menuId}-${i.node.uid}`,role:"menuitem","aria-haspopup":!h.value,"aria-owns":h.value?void 0:i.menuId,"aria-expanded":w.value,tabindex:x.value?-1:void 0,class:S([a(p).b(),a(p).is("selectable",m.value),a(p).is("active",i.node.checked),a(p).is("disabled",!x.value),w.value&&"in-active-path",N.value&&"in-checked-path"]),onMouseenter:j,onFocus:j,onClick:ae},[U(" prefix "),c.value&&u.value?(g(),H(a(_t),{key:0,"model-value":i.node.checked,indeterminate:i.node.indeterminate,disabled:V.value,onClick:F[0]||(F[0]=le(()=>{},["stop"])),"onUpdate:modelValue":A},null,8,["model-value","indeterminate","disabled"])):m.value&&u.value?(g(),H(a(ll),{key:1,"model-value":C.value,label:i.node.uid,disabled:V.value,"onUpdate:modelValue":A,onClick:F[1]||(F[1]=le(()=>{},["stop"]))},{default:M(()=>[U(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),F[2]||(F[2]=J("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):h.value&&i.node.checked?(g(),H(a(pe),{key:2,class:S(a(p).e("prefix"))},{default:M(()=>[Q(a(xa))]),_:1},8,["class"])):U("v-if",!0),U(" content "),Q(a(ol),{node:i.node},null,8,["node"]),U(" postfix "),h.value?U("v-if",!0):(g(),z(re,{key:3},[i.node.loading?(g(),H(a(pe),{key:0,class:S([a(p).is("loading"),a(p).e("postfix")])},{default:M(()=>[Q(a(Ta))]),_:1},8,["class"])):(g(),H(a(pe),{key:1,class:S(["arrow-right",a(p).e("postfix")])},{default:M(()=>[Q(a(wt))]),_:1},8,["class"]))],64))],42,nl))}});var rl=me(il,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const ul=ue({name:"ElCascaderMenu",__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(i){const s=i,l=dt(),n=ne("cascader-menu"),{t}=Va(),p=wa();let v,c;const m=Le(Ie),u=I(),C=f(()=>!s.nodes.length),V=f(()=>!m.initialLoaded),h=f(()=>`${p.value}-${s.index}`),x=P=>{v=P.target},w=P=>{var G;if(!(!m.isHoverMenu||!v||!u.value))if(v.contains(P.target)){N();const L=l.vnode.el,{left:j}=L.getBoundingClientRect(),{offsetWidth:B,offsetHeight:ae}=L,A=P.clientX-j,W=v.offsetTop,E=W+v.offsetHeight,F=((G=L.querySelector(`.${n.e("wrap")}`))==null?void 0:G.scrollTop)||0;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${A} ${W} L${B} ${F} V${W} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${A} ${E} L${B} ${ae+F} V${E} Z" />
        `}else c||(c=window.setTimeout(b,m.config.hoverThreshold))},N=()=>{c&&(clearTimeout(c),c=void 0)},b=()=>{u.value&&(u.value.innerHTML="",N())};return(P,G)=>(g(),H(a(Ge),{key:h.value,tag:"ul",role:"menu",class:S(a(n).b()),"wrap-class":a(n).e("wrap"),"view-class":[a(n).e("list"),a(n).is("empty",C.value)],onMousemove:w,onMouseleave:b},{default:M(()=>{var L;return[(g(!0),z(re,null,ye(i.nodes,j=>(g(),H(rl,{key:j.uid,node:j,"menu-id":h.value,onExpand:x},null,8,["node","menu-id"]))),128)),V.value?(g(),z("div",{key:0,class:S(a(n).e("empty-text"))},[Q(a(pe),{size:"14",class:S(a(n).is("loading"))},{default:M(()=>[Q(a(Ta))]),_:1},8,["class"]),Pe(" "+oe(a(t)("el.cascader.loading")),1)],2)):C.value?(g(),z("div",{key:1,class:S(a(n).e("empty-text"))},[ee(P.$slots,"empty",{},()=>[Pe(oe(a(t)("el.cascader.noData")),1)])],2)):(L=a(m))!=null&&L.isHoverMenu?(g(),z(re,{key:2},[U(" eslint-disable-next-line vue/html-self-closing "),(g(),z("svg",{ref_key:"hoverZone",ref:u,class:S(a(n).e("hover-zone"))},null,2))],2112)):U("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}});var dl=me(ul,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let cl=0;const pl=i=>{const s=[i];let{parent:l}=i;for(;l;)s.unshift(l),l=l.parent;return s};class ke{constructor(s,l,n,t=!1){this.data=s,this.config=l,this.parent=n,this.root=t,this.uid=cl++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:p,label:v,children:c}=l,m=s[c],u=pl(this);this.level=t?0:n?n.level+1:1,this.value=s[p],this.label=s[v],this.pathNodes=u,this.pathValues=u.map(C=>C.value),this.pathLabels=u.map(C=>C.label),this.childrenData=m,this.children=(m||[]).map(C=>new ke(C,l,this)),this.loaded=!l.lazy||this.isLeaf||!Ue(m),this.text=""}get isDisabled(){const{data:s,parent:l,config:n}=this,{disabled:t,checkStrictly:p}=n;return(na(t)?t(s,this):!!s[t])||!p&&!!(l!=null&&l.isDisabled)}get isLeaf(){const{data:s,config:l,childrenData:n,loaded:t}=this,{lazy:p,leaf:v}=l,c=na(v)?v(s,this):s[v];return St(c)?p&&!t?!1:!(Oe(n)&&n.length):!!c}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(s){const{childrenData:l,children:n}=this,t=new ke(s,this.config,this);return Oe(l)?l.push(s):this.childrenData=[s],n.push(t),t}calcText(s,l){const n=s?this.pathLabels.join(l):this.label;return this.text=n,n}broadcast(s){this.children.forEach(l=>{var n;l&&(l.broadcast(s),(n=l.onParentCheck)==null||n.call(l,s))})}emit(){var s;const{parent:l}=this;l&&((s=l.onChildCheck)==null||s.call(l),l.emit())}onParentCheck(s){this.isDisabled||this.setCheckState(s)}onChildCheck(){const{children:s}=this,l=s.filter(t=>!t.isDisabled),n=l.length?l.every(t=>t.checked):!1;this.setCheckState(n)}setCheckState(s){const l=this.children.length,n=this.children.reduce((t,p)=>{const v=p.checked?1:p.indeterminate?.5:0;return t+v},0);this.checked=this.loaded&&this.children.filter(t=>!t.isDisabled).every(t=>t.loaded&&t.checked)&&s,this.indeterminate=this.loaded&&n!==l&&n>0}doCheck(s){if(this.checked===s)return;const{checkStrictly:l,multiple:n}=this.config;l||!n?this.checked=s:(this.broadcast(s),this.setCheckState(s),this.emit())}}const We=(i,s)=>i.reduce((l,n)=>(n.isLeaf?l.push(n):(!s&&l.push(n),l=l.concat(We(n.children,s))),l),[]);class va{constructor(s,l){this.config=l;const n=(s||[]).map(t=>new ke(t,this.config));this.nodes=n,this.allNodes=We(n,!1),this.leafNodes=We(n,!0)}getNodes(){return this.nodes}getFlattedNodes(s){return s?this.leafNodes:this.allNodes}appendNode(s,l){const n=l?l.appendChild(s):new ke(s,this.config);l||this.nodes.push(n),this.appendAllNodesAndLeafNodes(n)}appendNodes(s,l){s.length>0?s.forEach(n=>this.appendNode(n,l)):l&&l.isLeaf&&this.leafNodes.push(l)}appendAllNodesAndLeafNodes(s){this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s),s.children&&s.children.forEach(l=>{this.appendAllNodesAndLeafNodes(l)})}getNodeByValue(s,l=!1){return Ke(s)?null:this.getFlattedNodes(l).find(t=>ce(t.value,s)||ce(t.pathValues,s))||null}getSameNode(s){return s&&this.getFlattedNodes(!1).find(({value:n,level:t})=>ce(s.value,n)&&s.level===t)||null}}const _a=ve({modelValue:{type:se([Number,String,Array,Object])},options:{type:se(Array),default:()=>[]},props:{type:se(Object),default:()=>({})}}),vl={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:ct,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},fl=ve({..._a,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),fa=i=>!0,hl={[he]:fa,[fe]:fa,close:()=>!0,"expand-change":i=>i},ml=i=>f(()=>({...vl,...i.props})),ha=i=>{if(!i)return 0;const s=i.id.split("-");return Number(s[s.length-2])},gl=i=>{if(!i)return;const s=i.querySelector("input");s?s.click():$t(i)&&i.click()},bl=(i,s)=>{const l=s.slice(0),n=l.map(p=>p.uid),t=i.reduce((p,v)=>{const c=n.indexOf(v.uid);return c>-1&&(p.push(v),l.splice(c,1),n.splice(c,1)),p},[]);return t.push(...l),t},yl=ue({name:"ElCascaderPanel",__name:"index",props:fl,emits:hl,setup(i,{expose:s,emit:l}){const n=i,t=l;let p=!1;const v=ne("cascader"),c=ml(n),m=pt();let u;const C=I(!0),V=I(!1),h=I([]),x=I(),w=I([]),N=I(),b=I([]),P=f(()=>c.value.expandTrigger==="hover"),G=f(()=>n.renderLabel||m.default),L=()=>{const{options:d}=n,y=c.value;p=!1,u=new va(d,y),w.value=[u.getNodes()],y.lazy&&Ue(n.options)?(C.value=!1,j(void 0,k=>{k&&(u=new va(k,y),w.value=[u.getNodes()]),C.value=!0,D(!1,!0)})):D(!1,!0)},j=(d,y)=>{const k=c.value;d=d||new ke({},k,void 0,!0),d.loading=!0;const T=R=>{const K=d,_=K.root?null:K;K.loading=!1,K.loaded=!0,K.childrenData=K.childrenData||[],R&&(u==null||u.appendNodes(R,_)),R&&(y==null||y(R)),d.level===0&&(V.value=!0)},$=()=>{d.loading=!1,d.loaded=!1,d.level===0&&(C.value=!0)};k.lazyLoad(d,T,$)},B=(d,y)=>{var k;const{level:T}=d,$=w.value.slice(0,T);let R;d.isLeaf?R=d.pathNodes[T-2]:(R=d,$.push(d.children)),((k=N.value)==null?void 0:k.uid)!==(R==null?void 0:R.uid)&&(N.value=d,w.value=$,!y&&t("expand-change",(d==null?void 0:d.pathValues)||[]))},ae=(d,y,k=!0)=>{const{checkStrictly:T,multiple:$}=c.value,R=b.value[0];p=!0,!$&&(R==null||R.doCheck(!1)),d.doCheck(y),Z(),k&&!$&&!T&&t("close"),!k&&!$&&A(d)},A=d=>{d&&(d=d.parent,A(d),d&&B(d))},W=d=>u==null?void 0:u.getFlattedNodes(d),E=d=>{var y;return(y=W(d))==null?void 0:y.filter(({checked:k})=>k!==!1)},F=()=>{b.value.forEach(d=>d.doCheck(!1)),Z(),w.value=w.value.slice(0,1),N.value=void 0,t("expand-change",[])},Z=()=>{var d;const{checkStrictly:y,multiple:k}=c.value,T=b.value,$=E(!y),R=bl(T,$),K=R.map(_=>_.valueByOption);b.value=R,x.value=k?K:(d=K[0])!=null?d:null},D=(d=!1,y=!1)=>{const{modelValue:k}=n,{lazy:T,multiple:$,checkStrictly:R}=c.value,K=!R;if(!(!C.value||p||!y&&ce(k,x.value)))if(T&&!d){const ge=ua(Ut(da(k))).map(X=>u==null?void 0:u.getNodeByValue(X)).filter(X=>!!X&&!X.loaded&&!X.loading);ge.length?ge.forEach(X=>{j(X,()=>D(!1,y))}):D(!0,y)}else{const _=$?da(k):[k],ge=ua(_.map(X=>u==null?void 0:u.getNodeByValue(X,K)));Ce(ge,y),x.value=Ia(k??void 0)}},Ce=(d,y=!0)=>{const{checkStrictly:k}=c.value,T=b.value,$=d.filter(_=>!!_&&(k||_.isLeaf)),R=u==null?void 0:u.getSameNode(N.value),K=y&&R||$[0];K?K.pathNodes.forEach(_=>B(_,!0)):N.value=void 0,T.forEach(_=>_.doCheck(!1)),_e($).forEach(_=>_.doCheck(!0)),b.value=$,ie(Se)},Se=()=>{Pa&&h.value.forEach(d=>{const y=d==null?void 0:d.$el;if(y){const k=y.querySelector(`.${v.namespace.value}-scrollbar__wrap`),T=y.querySelector(`.${v.b("node")}.${v.is("active")}:last-child`)||y.querySelector(`.${v.b("node")}.in-active-path`);xt(k,T)}})},$e=d=>{const y=d.target,k=je(d);switch(k){case q.up:case q.down:{d.preventDefault();const T=k===q.up?-1:1;Ve(La(y,T,`.${v.b("node")}[tabindex="-1"]`));break}case q.left:{d.preventDefault();const T=h.value[ha(y)-1],$=T==null?void 0:T.$el.querySelector(`.${v.b("node")}[aria-expanded="true"]`);Ve($);break}case q.right:{d.preventDefault();const T=h.value[ha(y)+1],$=T==null?void 0:T.$el.querySelector(`.${v.b("node")}[tabindex="-1"]`);Ve($);break}case q.enter:case q.numpadEnter:gl(y);break}};ka(Ie,_e({config:c,expandingNode:N,checkedNodes:b,isHoverMenu:P,initialLoaded:C,renderLabelFn:G,lazyLoad:j,expandNode:B,handleCheckChange:ae})),te(c,(d,y)=>{ce(d,y)||L()},{immediate:!0}),te(()=>n.options,L,{deep:!0}),te(()=>n.modelValue,()=>{p=!1,D()},{deep:!0}),te(()=>x.value,d=>{ce(d,n.modelValue)||(t(he,d),t(fe,d))});const Be=()=>{V.value||L()};return vt(()=>h.value=[]),Ze(()=>!Ue(n.modelValue)&&D()),s({menuList:h,menus:w,checkedNodes:b,handleKeyDown:$e,handleCheckChange:ae,getFlattedNodes:W,getCheckedNodes:E,clearCheckedNodes:F,calculateCheckedValue:Z,scrollToExpandingNode:Se,loadLazyRootNodes:Be}),(d,y)=>(g(),z("div",{class:S([a(v).b("panel"),a(v).is("bordered",d.border)]),onKeydown:$e},[(g(!0),z(re,null,ye(w.value,(k,T)=>(g(),H(dl,{key:T,ref_for:!0,ref:$=>h.value[T]=$,index:T,nodes:[...k]},{empty:M(()=>[ee(d.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}});var kl=me(yl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);const Cl=Ye(kl),Nl=ve({..._a,size:Xe,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:Lt,default:Pt},filterable:Boolean,filterMethod:{type:se(Function),default:(i,s)=>i.text.includes(s)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:se(Function),default:()=>!0},placement:{type:se(String),values:Vt,default:"bottom-start"},fallbackPlacements:{type:se(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:Me.popperClass,popperStyle:Me.popperStyle,teleported:Me.teleported,effect:{type:se(String),default:"light"},tagType:{...pa.type,default:"info"},tagEffect:{...pa.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...Tt}),ma=i=>!0,El={[he]:ma,[fe]:ma,focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,visibleChange:i=>He(i),expandChange:i=>!!i,removeTag:i=>!!i},wl=["placeholder"],Sl=["onClick"],$l=ue({name:"ElCascader",__name:"cascader",props:Nl,emits:El,setup(i,{expose:s,emit:l}){const n={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:o,placement:r}=e;["right","left","bottom","top"].includes(r)||o.arrow&&(o.arrow.x=35)},requires:["arrow"]}]},t=i,p=l,v=ft();let c=0,m=0;const u=ne("cascader"),C=ne("input"),{t:V}=Va(),{formItem:h}=Sa(),x=Ea(),{valueOnClear:w}=It(t),{isComposing:N,handleComposition:b}=Bt({afterComposition(e){var o;const r=(o=e.target)==null?void 0:o.value;Re(r)}}),P=I(),G=I(),L=I(),j=I(),B=I(),ae=I(),A=I(!1),W=I(!1),E=I(!1),F=I(""),Z=I(""),D=I([]),Ce=I([]),Se=f(()=>t.props.multiple?t.collapseTags?D.value.slice(0,t.maxCollapseTags):D.value:[]),$e=f(()=>t.props.multiple?t.collapseTags?D.value.slice(t.maxCollapseTags):[]:[]),Be=f(()=>v.style),d=f(()=>{var e;return(e=t.placeholder)!=null?e:V("el.cascader.placeholder")}),y=f(()=>Z.value||D.value.length>0||N.value?"":d.value),k=Na(),T=f(()=>k.value==="small"?"small":"default"),$=f(()=>!!t.props.multiple),R=f(()=>!t.filterable||$.value),K=f(()=>$.value?Z.value:F.value),_=f(()=>{var e;return((e=B.value)==null?void 0:e.checkedNodes)||[]}),{wrapperRef:ge,isFocused:X,handleBlur:Oa}=Dt(L,{disabled:x,beforeBlur(e){var o,r;return((o=P.value)==null?void 0:o.isFocusInsideContent(e))||((r=G.value)==null?void 0:r.isFocusInsideContent(e))},afterBlur(){var e;t.validateEvent&&((e=h==null?void 0:h.validate)==null||e.call(h,"blur").catch(o=>qe()))}}),Ha=f(()=>!t.clearable||x.value||E.value||!W.value&&!X.value?!1:!!_.value.length),xe=f(()=>{const{showAllLevels:e,separator:o}=t,r=_.value;return r.length?$.value?"":r[0].calcText(e,o):""}),Ka=f(()=>(h==null?void 0:h.validateState)||""),Qe=f({get(){return Ia(t.modelValue)},set(e){const o=e??w.value;p(he,o),p(fe,o),t.validateEvent&&(h==null||h.validate("change").catch(r=>qe()))}}),qa=f(()=>[u.b(),u.m(k.value),u.is("disabled",x.value),v.class]),Ga=f(()=>[C.e("icon"),"icon-arrow-down",u.is("reverse",A.value)]),Ua=f(()=>u.is("focus",X.value)),ea=f(()=>{var e,o;return(o=(e=P.value)==null?void 0:e.popperRef)==null?void 0:o.contentRef}),ja=e=>{if(X.value){const o=new FocusEvent("blur",e);Oa(o)}Y(!1)},Y=e=>{var o,r;x.value||(e=e??!A.value,e!==A.value&&(A.value=e,(r=(o=L.value)==null?void 0:o.input)==null||r.setAttribute("aria-expanded",`${e}`),e?(Ne(),B.value&&ie(B.value.scrollToExpandingNode)):t.filterable&&Fe(),p("visibleChange",e)))},Ne=()=>{ie(()=>{var e;(e=P.value)==null||e.updatePopper()})},De=()=>{E.value=!1},Wa=e=>{const{showAllLevels:o,separator:r}=t;return{node:e,key:e.uid,text:e.calcText(o,r),hitState:!1,closable:!x.value&&!e.isDisabled}},Te=e=>{var o;const r=e.node;r.doCheck(!1),(o=B.value)==null||o.calculateCheckedValue(),p("removeTag",r.valueByOption)},Za=()=>{switch(t.showCheckedStrategy){case"child":return _.value;case"parent":{const e=ta(!1),o=e.map(O=>O.value);return e.filter(O=>!O.parent||!o.includes(O.parent.value))}default:return[]}},Xa=()=>{if(!$.value)return;const e=Za(),o=[];e.forEach(r=>o.push(Wa(r))),D.value=o},aa=()=>{var e,o;const{filterMethod:r,showAllLevels:O,separator:Ee}=t,we=(o=(e=B.value)==null?void 0:e.getFlattedNodes(!t.props.checkStrictly))==null?void 0:o.filter(de=>de.isDisabled?!1:(de.calcText(O,Ee),r(de,K.value)));$.value&&D.value.forEach(de=>{de.hitState=!1}),E.value=!0,Ce.value=we,Ne()},Ya=()=>{var e;let o;E.value&&ae.value?o=ae.value.$el.querySelector(`.${u.e("suggestion-item")}`):o=(e=B.value)==null?void 0:e.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),o&&(o.focus(),!E.value&&o.click())},ze=()=>{var e,o;const r=(e=L.value)==null?void 0:e.input,O=j.value,Ee=(o=ae.value)==null?void 0:o.$el;if(!(!Pa||!r)){if(Ee){const we=Ee.querySelector(`.${u.e("suggestion-list")}`);we.style.minWidth=`${r.offsetWidth}px`}if(O){const{offsetHeight:we}=O,de=D.value.length>0?`${Math.max(we,c)-2}px`:`${c}px`;r.style.height=de,Ne()}}},ta=e=>{var o;return(o=B.value)==null?void 0:o.getCheckedNodes(e)},Ja=e=>{Ne(),p("expandChange",e)},Qa=e=>{if(N.value)return;switch(je(e)){case q.enter:case q.numpadEnter:Y();break;case q.down:Y(!0),ie(Ya),e.preventDefault();break;case q.esc:A.value===!0&&(e.preventDefault(),e.stopPropagation(),Y(!1));break;case q.tab:Y(!1);break}},et=()=>{var e;(e=B.value)==null||e.clearCheckedNodes(),!A.value&&t.filterable&&Fe(),Y(!1),p("clear")},Fe=()=>{const{value:e}=xe;F.value=e,Z.value=e},at=e=>{var o,r;const{checked:O}=e;$.value?(o=B.value)==null||o.handleCheckChange(e,!O,!1):(!O&&((r=B.value)==null||r.handleCheckChange(e,!0,!1)),Y(!1))},tt=e=>{const o=e.target,r=je(e);switch(r){case q.up:case q.down:{e.preventDefault();const O=r===q.up?-1:1;Ve(La(o,O,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case q.enter:case q.numpadEnter:o.click();break}},lt=()=>{const e=D.value[D.value.length-1];m=Z.value?0:m+1,!(!e||!m||t.collapseTags&&D.value.length>1)&&(e.hitState?Te(e):e.hitState=!0)},st=f(()=>t.debounce),ot=zt(()=>{const{value:e}=K;if(!e)return;const o=t.beforeFilter(e);bt(o)?o.then(aa).catch(()=>{}):o!==!1?aa():De()},st),Re=(e,o)=>{!A.value&&Y(!0),!(o!=null&&o.isComposing)&&(e?ot():De())},la=e=>Number.parseFloat(Mt(C.cssVarName("input-height"),e).value)-2,nt=()=>{var e;(e=L.value)==null||e.focus()},it=()=>{var e;(e=L.value)==null||e.blur()};return te(E,Ne),te([_,x,()=>t.collapseTags,()=>t.maxCollapseTags],Xa),te(D,()=>{ie(()=>ze())}),te(k,async()=>{await ie();const e=L.value.input;c=la(e)||c,ze()}),te(xe,Fe,{immediate:!0}),te(()=>A.value,e=>{var o;e&&t.props.lazy&&t.props.lazyLoad&&((o=B.value)==null||o.loadLazyRootNodes())}),Ze(()=>{const e=L.value.input,o=la(e);c=e.offsetHeight||o,Ft(e,ze)}),s({getCheckedNodes:ta,cascaderPanelRef:B,togglePopperVisible:Y,contentRef:ea,presentText:xe,focus:nt,blur:it}),(e,o)=>(g(),H(a(ca),{ref_key:"tooltipRef",ref:P,visible:A.value,teleported:e.teleported,"popper-class":[a(u).e("dropdown"),e.popperClass],"popper-style":e.popperStyle,"popper-options":n,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${a(u).namespace.value}-zoom-in-top`,effect:e.effect,pure:"",persistent:e.persistent,onHide:De},{default:M(()=>[be((g(),z("div",{ref_key:"wrapperRef",ref:ge,class:S(qa.value),style:ya(Be.value),onClick:o[8]||(o[8]=()=>Y(R.value?void 0:!0)),onKeydown:Qa,onMouseenter:o[9]||(o[9]=r=>W.value=!0),onMouseleave:o[10]||(o[10]=r=>W.value=!1)},[Q(a(Ht),{ref_key:"inputRef",ref:L,modelValue:F.value,"onUpdate:modelValue":o[1]||(o[1]=r=>F.value=r),placeholder:y.value,readonly:R.value,disabled:a(x),"validate-event":!1,size:a(k),class:S(Ua.value),tabindex:$.value&&e.filterable&&!a(x)?-1:void 0,onCompositionstart:a(b),onCompositionupdate:a(b),onCompositionend:a(b),onInput:Re},ht({suffix:M(()=>[Ha.value?(g(),H(a(pe),{key:"clear",class:S([a(C).e("icon"),"icon-circle-close"]),onClick:le(et,["stop"])},{default:M(()=>[(g(),H(Ca(e.clearIcon)))]),_:1},8,["class"])):(g(),H(a(pe),{key:"arrow-down",class:S(Ga.value),onClick:o[0]||(o[0]=le(r=>Y(),["stop"]))},{default:M(()=>[Q(a(Rt))]),_:1},8,["class"]))]),_:2},[e.$slots.prefix?{name:"prefix",fn:M(()=>[ee(e.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),$.value?(g(),z("div",{key:0,ref_key:"tagWrapper",ref:j,class:S([a(u).e("tags"),a(u).is("validate",!!Ka.value)])},[ee(e.$slots,"tag",{data:D.value,deleteTag:Te},()=>[(g(!0),z(re,null,ye(Se.value,r=>(g(),H(a(Ae),{key:r.key,type:e.tagType,size:T.value,effect:e.tagEffect,hit:r.hitState,closable:r.closable,"disable-transitions":"",onClose:O=>Te(r)},{default:M(()=>[J("span",null,oe(r.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),e.collapseTags&&D.value.length>e.maxCollapseTags?(g(),H(a(ca),{key:0,ref_key:"tagTooltipRef",ref:G,disabled:A.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,effect:e.effect,persistent:e.persistent},{default:M(()=>[Q(a(Ae),{closable:!1,size:T.value,type:e.tagType,effect:e.tagEffect,"disable-transitions":""},{default:M(()=>[J("span",{class:S(a(u).e("tags-text"))}," + "+oe(D.value.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:M(()=>[Q(a(Ge),{"max-height":e.maxCollapseTagsTooltipHeight},{default:M(()=>[J("div",{class:S(a(u).e("collapse-tags"))},[(g(!0),z(re,null,ye($e.value,(r,O)=>(g(),z("div",{key:O,class:S(a(u).e("collapse-tag"))},[(g(),H(a(Ae),{key:r.key,class:"in-tooltip",type:e.tagType,size:T.value,effect:e.tagEffect,hit:r.hitState,closable:r.closable,"disable-transitions":"",onClose:Ee=>Te(r)},{default:M(()=>[J("span",null,oe(r.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):U("v-if",!0),e.filterable&&!a(x)?be((g(),z("input",{key:1,"onUpdate:modelValue":o[2]||(o[2]=r=>Z.value=r),type:"text",class:S(a(u).e("search-input")),placeholder:xe.value?"":d.value,onInput:o[3]||(o[3]=r=>Re(Z.value,r)),onClick:o[4]||(o[4]=le(r=>Y(!0),["stop"])),onKeydown:mt(lt,["delete"]),onCompositionstart:o[5]||(o[5]=(...r)=>a(b)&&a(b)(...r)),onCompositionupdate:o[6]||(o[6]=(...r)=>a(b)&&a(b)(...r)),onCompositionend:o[7]||(o[7]=(...r)=>a(b)&&a(b)(...r))},null,42,wl)),[[gt,Z.value]]):U("v-if",!0)],2)):U("v-if",!0)],38)),[[a(Ot),ja,ea.value]])]),content:M(()=>[e.$slots.header?(g(),z("div",{key:0,class:S(a(u).e("header")),onClick:o[11]||(o[11]=le(()=>{},["stop"]))},[ee(e.$slots,"header")],2)):U("v-if",!0),be(Q(a(Cl),{ref_key:"cascaderPanelRef",ref:B,modelValue:Qe.value,"onUpdate:modelValue":o[12]||(o[12]=r=>Qe.value=r),options:e.options,props:t.props,border:!1,"render-label":e.$slots.default,onExpandChange:Ja,onClose:o[13]||(o[13]=r=>e.$nextTick(()=>Y(!1)))},{empty:M(()=>[ee(e.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[ia,!E.value]]),e.filterable?be((g(),H(a(Ge),{key:1,ref_key:"suggestionPanel",ref:ae,tag:"ul",class:S(a(u).e("suggestion-panel")),"view-class":a(u).e("suggestion-list"),onKeydown:tt},{default:M(()=>[Ce.value.length?(g(!0),z(re,{key:0},ye(Ce.value,r=>(g(),z("li",{key:r.uid,class:S([a(u).e("suggestion-item"),a(u).is("checked",r.checked)]),tabindex:-1,onClick:O=>at(r)},[ee(e.$slots,"suggestion-item",{item:r},()=>[J("span",null,oe(r.text),1),r.checked?(g(),H(a(pe),{key:0},{default:M(()=>[Q(a(xa))]),_:1})):U("v-if",!0)])],10,Sl))),128)):ee(e.$slots,"empty",{key:1},()=>[J("li",{class:S(a(u).e("empty-text"))},oe(a(V)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[ia,E.value]]):U("v-if",!0),e.$slots.footer?(g(),z("div",{key:2,class:S(a(u).e("footer")),onClick:o[14]||(o[14]=le(()=>{},["stop"]))},[ee(e.$slots,"footer")],2)):U("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});var xl=me($l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);const Il=Ye(xl);export{Il as E};
