import{E as J,A as K,M as Q,P as X}from"./el-scrollbar-5JrKAg7m.js";import{E as Y}from"./el-empty-CuJsQXpN.js";import{E as Z,a as ee}from"./el-checkbox-LGNvUH6I.js";/* empty css                          */import{E as le,b as te}from"./el-select-Da2q7usJ.js";import{E as ae}from"./el-input-BS64efEG.js";import{E as se}from"./el-radio-Dh8coKAS.js";import{_ as j,a as p,o as i,b as l,t as m,l as n,u as C,O as oe,f as a,w as u,e as S,L as _,N as ne,W as k,g as I}from"./index-DtZcYc45.js";import{c as ue,a as ie}from"./city-CRWrVxe7.js";import{a as de}from"./request-BEJu7o95.js";import"./castArray-Dv9YKXuC.js";import"./toNumber-CdGAcc2H.js";import"./vnode-CMXEpaTc.js";const re={class:"result-box"},ve={class:"result-left"},ce={class:"name"},pe={style:{display:"flex","margin-top":"12px"}},me={style:{width:"220px"}},he={class:"bottom"},fe={class:"left"},ge={class:"center"},_e={class:"right"},ye={__name:"result_item",props:{item:{type:Object,default:()=>({})}},setup(r){return(s,o)=>(i(),p("div",re,[l("div",ve,[l("p",ce,m(r.item.gsmc),1),l("div",pe,[l("p",me,"法定代表人："+m(r.item.fddbr),1),o[0]||(o[0]=l("p",{style:{width:"220px"}},"所属行业：-",-1)),o[1]||(o[1]=l("p",null,"地区：北京",-1))]),l("div",he,[l("div",fe,[o[2]||(o[2]=l("svg",{"data-v-7d9f663c":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[l("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192m0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384"})],-1)),l("p",null,m(r.item.lxdh1||"无"),1)]),l("div",ge,[o[3]||(o[3]=l("svg",{"data-v-7d9f663c":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[l("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),l("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),l("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})],-1)),l("p",null,m(r.item.clrq||"无"),1)]),l("div",_e,[o[4]||(o[4]=l("svg",{"data-v-7d9f663c":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[l("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),l("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256m345.6 192L960 960H672v-64H352v64H64l102.4-256zm-68.928 0H235.328l-76.8 192h706.944z"})],-1)),l("p",null,m(r.item.dz_gs),1)])])]),o[5]||(o[5]=l("div",{class:"result-right"},null,-1))]))}},be=j(ye,[["__scopeId","data-v-1f139471"]]),xe=r=>de({url:"xkx/search_company",method:"get",params:r}),we={class:"head-box"},Ve={class:"content w"},Ce={class:"breadcrumb"},ke={class:"icon"},Ee={class:"serach-box"},Le={class:"serach-result"},$e={class:"result-box w"},Me={class:"result-header"},ze={class:"left"},Se={class:"right"},Ue={style:{height:"calc(100vh - 400px)"}},Be={style:{height:"50px"}},Ie={key:0,style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},je={key:1,style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},qe={__name:"index",setup(r){const s=n(""),o=n(""),E=n(!1),L=n(""),y=n("reset"),b=n("reset"),$=n(!1),h=n([]),q=oe(),x=n([]),H=ue(ie),v=n([]),w=n({page:0,limit:10}),c=n({loading:!1,finished:!1}),N=async d=>{},O=[{value:"reset",label:"搜企业"},{value:"new",label:"最新企业"},{value:"1",label:"最新企业（精确）"},{value:"2",label:"搜法人"},{value:"3",label:"搜产品"}],T=[{value:"reset",label:"全部"},{value:"存续",label:"存续"},{value:"注销",label:"注销"}],A=[{value:"0",label:"全部"},{value:"1",label:"厂家"},{value:"2",label:"零售商"},{value:"3",label:"经销商"}],U=async(d=w.value)=>{c.value.loading=!0;const e={};s.value.length===1&&s.value[0]!=="全国"&&(e.prov=s.value[0]),s.value.length===2&&(s.value[1]==="全部"?e.prov=s.value[0]:(e.prov=s.value[0],e.city=s.value[1])),s.value.length===3&&(s.value[2]==="全部"?(e.prov=s.value[0],e.city=s.value[1]):(e.prov=s.value[0],e.city=s.value[1],e.qx=s.value[2]));try{const g=(await xe({...d,...e,tag:o.value,allnumber:h.value.length===2||h.value.length===0?0:h.value[0],sh_type:L.value,search_type:y.value==="reset"?"":y.value,jyzt:b.value==="reset"?"":b.value,blurry:1})).data.data;return console.log(g,1),g.length===0&&(c.value.finished=!0),g}finally{c.value.loading=!1}},D=async()=>{c.value.finished=!1,w.value.page=0;const d=await U();for(v.value=d;;){await new Promise(f=>setTimeout(f,800)),w.value.page++;const e=await U(w.value);if(e.length===0)break;v.value.push(...e)}},P=d=>{const e=d.length;E.value=e===v.value.length,$.value=e>0&&e<v.value.length},R=d=>{x.value=d?v.value.map(e=>e.id):[],$.value=!1};return(d,e)=>{const f=J,g=se,F=ae,V=Z,M=te,z=le,B=ee,G=Y,W=K;return i(),p(_,null,[l("div",we,[l("div",Ve,[l("div",Ce,[l("p",{onClick:e[0]||(e[0]=t=>C(q).push("/home"))},"首页"),l("div",ke,[a(f,{size:"14px",color:"#a8abb2"},{default:u(()=>[a(C(Q))]),_:1})]),e[9]||(e[9]=l("p",{class:"active"},"企业阵营",-1))]),l("div",Ee,[e[10]||(e[10]=l("p",{class:"lable"},"搜索区域:",-1)),a(g,{style:{width:"150px",height:"52px"},modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),placeholder:"请选择",options:C(H)},null,8,["modelValue","options"]),a(F,{modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t),style:{flex:"1",height:"52px"},placeholder:"请输入关键词搜索企业"},null,8,["modelValue"]),l("div",{class:"serach-btn",onClick:D}," 查一下 ")])])]),e[13]||(e[13]=l("div",{style:{height:"135px"}},null,-1)),l("div",Le,[l("div",$e,[l("div",Me,[l("div",ze,[a(V,{modelValue:E.value,"onUpdate:modelValue":e[3]||(e[3]=t=>E.value=t),indeterminate:$.value,onChange:R},{default:u(()=>[ne(" 全选 "+m(x.value.length+"条"),1)]),_:1},8,["modelValue","indeterminate"]),l("p",null," 共"+m(v.value.length)+"条 ",1)]),l("div",Se,[a(z,{modelValue:L.value,"onUpdate:modelValue":e[4]||(e[4]=t=>L.value=t),placeholder:"请选择",style:{width:"100px"}},{default:u(()=>[(i(),p(_,null,k(A,t=>a(M,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),a(z,{modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=t=>b.value=t),placeholder:"请选择",style:{width:"100px",margin:"0 20px"}},{default:u(()=>[(i(),p(_,null,k(T,t=>a(M,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),a(z,{modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=t=>y.value=t),placeholder:"请选择",style:{width:"100px","margin-right":"20px"}},{default:u(()=>[(i(),p(_,null,k(O,t=>a(M,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),a(B,{modelValue:h.value,"onUpdate:modelValue":e[7]||(e[7]=t=>h.value=t),style:{display:"flex","flex-direction":"row"}},{default:u(()=>[a(V,{label:"手机",value:"2"}),a(V,{label:"固话",value:"1"})]),_:1},8,["modelValue"])])]),l("div",Ue,[a(W,{onEndReached:N,distance:30},{default:u(()=>[a(B,{modelValue:x.value,"onUpdate:modelValue":e[8]||(e[8]=t=>x.value=t),onChange:P},{default:u(()=>[(i(!0),p(_,null,k(v.value,t=>(i(),I(V,{key:t.id,value:t.id},{default:u(()=>[a(be,{item:t},null,8,["item"])]),_:2},1032,["value"]))),128)),v.value.length===0?(i(),I(G,{key:0,description:"无数据"})):S("",!0)]),_:1},8,["modelValue"])]),_:1})]),l("div",Be,[c.value.loading&&!c.value.finished?(i(),p("div",Ie,[a(f,{color:"#999"},{default:u(()=>[a(C(X))]),_:1}),e[11]||(e[11]=l("span",{style:{color:"#999","font-size":"14px"}},"加载中 ~",-1))])):S("",!0),!c.value.loading&&c.value.finished?(i(),p("div",je,[...e[12]||(e[12]=[l("span",{style:{color:"#999","font-size":"14px"}},"没有更多啦 ~",-1)])])):S("",!0)])])])],64)}}},Qe=j(qe,[["__scopeId","data-v-0bbf1f33"]]);export{Qe as default};
